@import url("https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Lora:ital,wght@0,400..700;1,400..700&display=swap");
@import "@fontsource/ia-writer-quattro/400.css";
@import "@fontsource/ia-writer-quattro/700.css";
@import "@fontsource/ia-writer-quattro/400-italic.css";
@import "@fontsource/ia-writer-quattro/700-italic.css";
@import "tailwindcss";
@plugin "@tailwindcss/typography";
@plugin "@iconify/tailwind4" {
	prefix: "iconify";
	/* biome-ignore lint/correctness/noUnknownProperty: This is a valid Tailwind CSS plugin configuration */
	prefixes: ri, carbon;
	scale: 1.2;
}

@variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

@utility container {
	@apply mx-auto p-8;
}

@layer base {
	html {
		color-scheme: light dark;
		&[data-theme="light"] {
			color-scheme: light;
			--background: 0 0% 96.5%;
			--foreground: 0 0% 8.6%;
			--card: 0 0% 100%;
			--card-foreground: 0 0% 8.6%;
			--popover: 0 0% 100%;
			--popover-foreground: 0 0% 8.6%;
			--primary: 0 0% 8.6%;
			--primary-foreground: 0 0% 96.5%;
			--secondary: 0 0% 90.6%;
			--secondary-foreground: 0 0% 8.6%;
			--muted: 0 0% 90.6%;
			--muted-foreground: 0 0% 40%;
			--accent: 0 0% 90.6%;
			--accent-foreground: 0 0% 8.6%;
			--destructive: 0 72.22% 50.59%;
			--destructive-foreground: 0 0% 98%;
			--border: 0 0% 82%;
			--input: 0 0% 82%;
			--ring: 0 0% 8.6%;
			--radius: 0.5rem;
		}
		&[data-theme="dark"] {
			color-scheme: dark;
			--background: 0 0% 8.6%;
			--foreground: 0 0% 96.5%;
			--card: 0 0% 12%;
			--card-foreground: 0 0% 96.5%;
			--popover: 0 0% 12%;
			--popover-foreground: 0 0% 96.5%;
			--primary: 0 0% 96.5%;
			--primary-foreground: 0 0% 8.6%;
			--secondary: 0 0% 23.9%;
			--secondary-foreground: 0 0% 96.5%;
			--muted: 0 0% 23.9%;
			--muted-foreground: 0 0% 60%;
			--accent: 0 0% 23.9%;
			--accent-foreground: 0 0% 96.5%;
			--destructive: 0 62.8% 30.6%;
			--destructive-foreground: 0 0% 98%;
			--border: 0 0% 27.1%;
			--input: 0 0% 27.1%;
			--ring: 0 0% 82%;
		}
	}
	* {
		@apply border-border;
	}
	body {
		@apply bg-background text-foreground;
	}
}

@theme {
	--font-sans: "iA Writer Quattro", sans-serif;
	--font-serif: "Lora", serif;
	--font-mono: "Geist Mono", monospace;
	--container-2xl: 1400px;
	--color-woodsmoke-50: #f6f6f6;
	--color-woodsmoke-100: #e7e7e7;
	--color-woodsmoke-200: #d1d1d1;
	--color-woodsmoke-300: #b0b0b0;
	--color-woodsmoke-400: #888888;
	--color-woodsmoke-500: #6d6d6d;
	--color-woodsmoke-600: #5d5d5d;
	--color-woodsmoke-700: #4f4f4f;
	--color-woodsmoke-800: #454545;
	--color-woodsmoke-900: #3d3d3d;
	--color-woodsmoke-950: #171717;
	--color-border: hsl(var(--border) / 0.8);
	--color-input: hsl(var(--input));
	--color-ring: hsl(var(--ring));
	--color-background: hsl(var(--background));
	--color-foreground: hsl(var(--foreground));
	--color-primary: hsl(var(--primary));
	--color-primary-foreground: hsl(var(--primary-foreground));
	--color-secondary: hsl(var(--secondary));
	--color-secondary-foreground: hsl(var(--secondary-foreground));
	--color-accent: hsl(var(--accent));
	--color-muted: hsl(var(--muted));
	--color-muted-foreground: hsl(var(--muted-foreground));
	--color-destructive: hsl(var(--destructive));
	--color-destructive-foreground: hsl(var(--destructive-foreground));
	--color-popover: hsl(var(--popover));
	--color-popover-foreground: hsl(var(--popover-foreground));
	--color-card: hsl(var(--card));
	--color-card-foreground: hsl(var(--card-foreground));
}

@layer components {
	@import "./components/admonition.css";
	@import "./components/github-card.css";
	h1 {
		@apply font-serif;
	}
	.custom-prose {
		@apply prose dark:prose-invert;
		@apply prose-headings:font-semibold prose-headings:text-foreground prose-headings:before:absolute prose-headings:before:-ms-4;
		@apply prose-th:before:content-none prose-th:after:content-none prose-th:font-semibold prose-th:border-border prose-th:pb-2;
		@apply prose-td:text-xs md:prose-td:text-sm;
		@apply prose-blockquote:font-sans;
		@apply prose-p:text-foreground prose-p:leading-relaxed prose-p:mb-4;
		@apply prose-pre:bg-secondary prose-pre:rounded-lg prose-pre:p-4 prose-pre:overflow-x-auto prose-pre:font-mono prose-pre:text-sm;
		@apply prose-code:rounded-md prose-code:px-1.5 prose-code:py-0.5 prose-code:text-teal-600 prose-code:bg-teal-100 dark:prose-code:text-teal-400 dark:prose-code:bg-teal-900 prose-code:before:content-none prose-code:after:content-none;
	}
	.expressive-code {
		@apply my-4;
	}
	.plantuml-img {
		@apply mx-auto;
	}
}

html {
	scroll-behavior: smooth;
}
html.dark {
	color-scheme: dark;
}
html:not(.dark) {
	color-scheme: light;
}
#nprogress {
	pointer-events: none;
}
#nprogress .bar {
	background: #888;
	opacity: 0.75;
	position: fixed;
	z-index: 999;
	top: 0;
	left: 0;
	width: 100%;
	height: 2px;
}
img {
	--at-apply: rd-1 0.5;
}

/* Icon theming for SVGs with background boxes */
:root {
	--nextjs-logo-color: white;
	--jetbrains-text: #fff;
	--better-auth-inner: white;
}

[data-theme="light"] {
	--nextjs-logo-color: white;
	--jetbrains-text: #fff;
	--better-auth-inner: white;
}

[data-theme="dark"] {
	--nextjs-logo-color: black;
	--jetbrains-text: #000;
	--better-auth-inner: black;
}
