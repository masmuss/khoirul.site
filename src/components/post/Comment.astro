<section class="mx-auto mt-12">
	<script
		is:inline
		src="https://giscus.app/client.js"
		data-repo="masmuss/khoirul.site"
		data-repo-id="R_kgDOPKC8fg"
		data-category="General"
		data-category-id="DIC_kwDOPKC8fs4Ct6-3"
		data-mapping="title"
		data-strict="0"
		data-reactions-enabled="1"
		data-emit-metadata="1"
		data-input-position="bottom"
		data-theme="preferred_color_scheme"
		data-lang="en"
		data-loading="lazy"
		crossorigin="anonymous"
		async></script>
</section>

<script is:inline>
	function updateGiscusTheme() {
		const theme = document.documentElement.getAttribute("data-theme") === "dark" ? "dark" : "light";
		const iframe = document.querySelector("iframe.giscus-frame");
		if (!iframe) return;
		iframe.contentWindow.postMessage({ giscus: { setConfig: { theme } } }, "https://giscus.app");
	}

	const observer = new MutationObserver(updateGiscusTheme);
	observer.observe(document.documentElement, { attributes: true, attributeFilter: ["class"] });

	window.onload = () => {
		updateGiscusTheme();
	};
</script>
