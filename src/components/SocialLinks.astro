---
import siteConfig from "@/config/site-config";
import { cn } from "@/lib/utils";

interface Props {
	variant?: "icon" | "button";
	showEmail?: boolean;
	class?: string;
}

const { variant = "icon", showEmail = false, class: className } = Astro.props;

const iconClass = cn(
	"text-muted-foreground hover:text-foreground transition-colors",
	variant === "button" &&
		"hover:bg-muted/20 border-border inline-flex items-center gap-x-2 rounded-lg border px-4 py-2 text-sm",
);
---

<div class={cn("flex items-center", variant === "button" ? "flex-wrap gap-3" : "gap-4", className)}>
	{
		showEmail && (
			<a
				href={`mailto:${siteConfig.email}`}
				target="_blank"
				rel="noopener noreferrer"
				class={iconClass}
				aria-label="Email"
			>
				<span class={cn("iconify ri--mail-line", variant === "icon" && "text-xl")} />
				{variant === "button" && "Email"}
			</a>
		)
	}
	{
		siteConfig.socialLinks.map((link) => (
			<a
				href={link.href}
				target="_blank"
				rel="noopener noreferrer"
				class={iconClass}
				aria-label={link.text}
			>
				<span class={cn("iconify", link.icon, variant === "icon" && "text-xl")} />
				{variant === "button" && link.text}
			</a>
		))
	}
</div>
